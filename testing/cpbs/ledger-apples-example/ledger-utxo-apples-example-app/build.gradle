plugins {
    id 'net.corda.plugins.cordapp-cpb2'
}

cordapp {
    targetPlatformVersion platformVersion.toInteger()
    minimumPlatformVersion platformVersion.toInteger()
    workflow {
        name "Apples utxo example app"
        versionId 1
        vendor "R3"
    }
}

tasks.named('compileKotlin') {
    compilerOptions {
        freeCompilerArgs.add '-Xstring-concat=inline'
    }
}

dependencies {
    cordaProvided platform("net.corda:corda-api:$cordaApiVersion")
    cordaProvided 'net.corda:corda-ledger-utxo'

    cordapp project(':testing:cpbs:ledger-apples-example:ledger-utxo-apples-example-contract')

    // Common and API packages pulled in as transitive dependencies through client
    cordapp project(':notary-plugins:notary-plugin-non-validating:notary-plugin-non-validating-client')
}
