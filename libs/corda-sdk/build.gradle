plugins {
    id 'org.jetbrains.kotlin.jvm'
    id 'corda.common-publishing'
    id 'corda.common-library'
}
description 'Corda SDK'


ext {
    cordaEnableFormatting = true
    releasable = false
}

dependencies {
    implementation project(':components:membership:membership-rest')
    implementation libs.jackson.module.kotlin
    implementation libs.kotlin.stdlib
    implementation project(':libs:configuration:configuration-core')
    implementation project(':libs:configuration:configuration-endpoints')
    implementation project(':libs:membership:certificates-common')
    implementation project(':libs:membership:membership-common')
    implementation project(':libs:membership:schema-validation')
    implementation project(':libs:packaging:packaging-verify')
    implementation project(':libs:rest:json-serialization')
    implementation project(':libs:rest:rest-client')
    implementation project(':libs:virtual-node:cpi-upload-endpoints')
    implementation project(':libs:virtual-node:virtual-node-endpoints')
    implementation project(':libs:virtual-node:virtual-node-endpoints-maintenance')
    implementation project(":libs:utilities")
    implementation 'net.corda:corda-config-schema'

    implementation libs.slf4j.api
    implementation libs.jackson.dataformat.yaml
    implementation libs.jackson.databind
    implementation libs.kubernetes.client
    constraints {
        implementation(libs.okio) {
            because 'kubernetes-client uses an older version of Okio library, needs to be at least 3.4.0 to avoid CVE-2023-0833.'
        }
        implementation(libs.okHttp) {
            because 'kubernetes-client uses an older version of okhttp3 library, needs to be at least 4.9.2 to avoid CVE-2023-0833.'
        }
    }
    implementation libs.postgresql.jdbc
    implementation libs.kafka.client

    testImplementation libs.bundles.test
    testImplementation project(':testing:test-utilities')
    testImplementation project(':testing:packaging-test-utilities')
}

