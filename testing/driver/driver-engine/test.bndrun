-runfw: org.apache.felix.framework
-resolve.effective: resolve,active
-runee: JavaSE-11
-runtrace: true

-runvm: \
    --illegal-access=deny

# The driver does not use Corda's Lifecycle code, so this
# service should not exist inside our OSGi framework.
-runsystemcapabilities: \
    osgi.service;objectClass:List<String>='net.corda.lifecycle.LifecycleCoordinatorFactory';effective:=active

# Identify all bundles which contain system flows.
systemFlows = ${findproviders;corda.system;(corda.system=flow)}

-runrequires: \
    bnd.identity;id='net.corda.driver-engine',\
    ${template;systemFlows;bnd.identity;id='${@}'},\
    bnd.identity;id='net.corda.notary-worker-selection-impl',\
    bnd.identity;id='net.corda.uniqueness-checker-client-service-impl',\
    bnd.identity;id='slf4j.simple'

-runstartlevel: \
    order=sortbynameversion,\
    begin=-1
