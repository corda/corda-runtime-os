plugins {
    id 'corda.common-library'
    id 'corda.common-publishing'
}

// Temporary measure for DP2, required as a transitive dependency by simulator modules 
// This code marks this module as to be published externally. 
// TODO To be revisited prior to beta program.
ext {
    releasable = true
}

description 'Database Admin API'

dependencies {
    api "net.corda.kotlin:kotlin-stdlib-jdk8-osgi"
    implementation platform("net.corda:corda-api:$cordaApiVersion")

    compileOnly "org.osgi:osgi.annotation"
    api "javax.persistence:javax.persistence-api"
}

tasks.register('javadocJar', Jar) {
    description = 'Create JavaDoc Jar from dokka docs'
    group = 'documentation'

    dependsOn(dokkaHtml)
    archiveBaseName = jar.archiveBaseName
    archiveClassifier.set("javadoc")
    from(dokkaHtml.outputDirectory)
}